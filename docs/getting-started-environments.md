---
id: getting-started-environments
title: Environments
---

An environment is a coherent set of BOSH deployments on a specific BOSH director.
Enterprises usually have a name for environments (e.g. the DEV foundation) and we like to use the concept of environments to have a solid folder structure for BOSH deployments.

> **Environment**: a target environment where products are deployed to. Ex: dev, qa, prod

Usually there are two types of environments:

- *similar* environments: e.g. Cloud Foundry DEV and PROD
- *different* environments: e.g. Cloud Foundry and Concourse

The general setup of our files and folder simplifies the operation of *similar* environments, though the approach does not limit possibilities for *different* environments.


## Environment Organisation

To separate generic and reusable from environment-specific parts, the files to deploy and configure an environment are spread across three folders:

- `base`: Generic, environment-independent files and scripts
- `environments`: Environment-specific files and scripts
- `state`: BOSH Deployment state

The reason for having 3 folders is to provide a separation of concerns with regards to files that are generic (and therefore applicable to all environments) i.e. `base` and files that are specific to a particular environments i.e. `environments`.

Lastly `state` only contains state and credential files generated by BOSH. As those need to be shared among multiple developers and automation pipelines, the credentials are stored in a Git repository to ease version-controlled sharing.

### Version Control

It is recommended to put all files under version control.
By using a version control system such as Git anyone can contribute to the different files in a defined workflow that fits well for your team and automation pipeline.

We recommend to put each of the three above concerns into a separate Git repository.
As a minimum, you should put the `state` into a different Git repository as it contains sensitive credentials and certificates.
You can have a look at this guide to learn how to [encrypt sensitive information in Git repositories](TODO).

### Naming

Depending on what you are deploying, you may prefix folders with a unique identifier.
For example, if you are deploying Concourse your folders might be named as follows:

```
├── concourse-base
├── concourse-environments
└── concourse-state
```

When working on the deployment you should check out all three folder to your local file system.


## Base

The *base* contains scripts and configuration files for the products which can be deployed on an environment. 
The files are grouped by product in their respective folder:

```txt
base
├── bosh
├── ci
├── cloud-config
├── cloud-foundry
├── concourse
├── database
└── minio
```

Next to the project folders, we have three additional folders:

- `bosh`: BOSH director scripts are placed under the bosh folder
- `ci`: Contains files related to automation pipelines.
- `cloud-config`: Files related to the [BOSH cloud config](TODO)

Each of the above folders may contain the following subfolders:

- `operations`: these are custom [operations files](TODO) (ops files) that will not change for each environment.
- `resources`: external resources, usually Git submodules. They are retrieved by the `git submodule update` command. By using git submodules, we can put external resources under version control, to know exactly which versions are being used.
- `tools`: useful helper scripts that are related to the product but not essentially part of it.

### Example: BOSH

Everything related to the deployment of the BOSH director is located under the bosh folder:

```
base
└── bosh
    ├── deploy.sh
    ├── operations
    ├── resources
    │   └── bosh-deployment
    └── smoke-test.sh
```
